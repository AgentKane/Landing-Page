<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interest Rate Earnings</title>

<style>
body {
  font-family: 'Poppins', sans-serif;
  text-align: center;
  margin-top: 75px;
}

input{color: #727272;}

input[type="number"] {
  padding: 10px; 
  width: 23%;
  font-size: 30px;
  margin: 10px 0;
  font-weight: 900;
  text-align: center;
}

::placeholder{color: rgb(205, 205, 205);}

input:focus {
  outline: none;
  box-shadow: 0 0 10px #acacacad;
  color: #727272;
}

table {
  margin: 50px auto;
  border-collapse: collapse;
  width: 25%;
}

th, td {    
  border: 1px solid #7a7a7a;
  padding: 10px;
}

th {
  background: #b5b5b5;
  color: white;
}

th.left-align, td.left-align {
  text-align: left;
}

th.right-align, td.right-align {
  text-align: right;
}

th.center-align, td.center-align {
  text-align: center;
}

.NetProfit2 {
  padding: 10px;
  text-align: center;
  font-size: 35px;
  font-weight: bold;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield; /* Firefox */
}

</style>  
</head>

<body>

<div><input type="number" id="deposit" placeholder="Deposit (£)"></div>
<div><input type="number" id="rate" placeholder="Interest Rate (%)"></div>

<table id="results">
 <tr>
   <th class="center-align">Item</th>
   <th class="center-align">Value</th>
 </tr>
 <tr style="display:none;">
   <td class="left-align">Deposit</td>
   <td class="right-align" id="depositValue"></td>
 </tr>
 <tr style="display:none;">
   <td class="left-align">Interest Rate</td>
   <td class="right-align" id="rateValue"></td>
 </tr>
 <tr>
   <td class="left-align">Annual Interest</td>
   <td class="right-align" id="interestValue"></td>
 </tr>
 <tr style="display:none;">
   <td class="left-align">Tax-Free Interest</td>
   <td class="right-align" id="taxFreeValue"></td>
 </tr>
 <tr>
   <td class="left-align">Taxable Interest</td>
   <td class="right-align" id="taxableValue"></td>
 </tr>
 <tr>
   <td class="left-align">Tax Paid (20%)</td>
   <td class="right-align" id="taxValue"></td>
 </tr>
</table>

<table id="netProfit">
 <tr>
   <th class="center-align">Net Profit</th>
 </tr>
 <tr>
   <td class="NetProfit2" id="netProfitValue"></td>
 </tr>
</table>

<script>

document.getElementById("deposit").addEventListener("keyup", function(event) {
  if (event.key === "Enter") {
    calculate();
  }
});

document.getElementById("rate").addEventListener("keyup", function(event) {
  if (event.key === "Enter") {
    calculate();
  }
});

function calculate() {
  const deposit = document.getElementById("deposit").value; 
  const rate = document.getElementById("rate").value / 100;

  const interest = deposit * rate;
  const taxFree = Math.min(1000, interest);
  const taxable = interest - taxFree;
  const tax = taxable * 0.2;
  const netProfit = interest - tax;

  document.getElementById("depositValue").textContent = "£" + numberWithCommas(deposit);
  document.getElementById("interestValue").textContent = "£" + numberWithCommas(interest.toFixed(2));
  document.getElementById("taxableValue").textContent = "£" + numberWithCommas(taxable.toFixed(2));
  document.getElementById("taxValue").textContent = "£" + numberWithCommas(tax.toFixed(2));
  document.getElementById("netProfitValue").textContent = "£" + numberWithCommas(netProfit.toFixed(2));
}

function numberWithCommas(x) {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
</script>

</body>
</html>
